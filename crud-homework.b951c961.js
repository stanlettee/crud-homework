async function getStudents(){try{return await fetch("http://localhost:3000/students").then(e=>e.json())}catch(e){console.log(e)}}function renderStudents(e){return e.map(e=>`
    <tr data-id="${e.id}">
        <td>${e.id}</td>
        <td class="name">${e.name}</td>
        <td class="age">${e.age}</td>
        <td class="course">${e.course}</td>
        <td class="skills">${e.skills}</td>
        <td class="email">${e.email}</td>
        <td class="isEnrolled">${e.isEnrolled}</td>
        <td>
            <button style="margin-bottom: 5px" class="edit-button">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
            <button class="delete-button">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
        </td>
    </tr>
    `).join("")}async function addStudent(e){try{return await fetch("http://localhost:3000/students",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())}catch(e){console.log(e)}}async function updateStudent(e,t){try{return await fetch(`http://localhost:3000/students${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json())}catch(e){console.log(e)}}async function deleteStudent(e){try{return await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE"})}catch(e){console.log(e)}}document.querySelector("#get-students-btn").addEventListener("click",()=>{getStudents().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=renderStudents(e)})}),document.querySelector("#add-student-form").addEventListener("submit",e=>{e.preventDefault();let t=e.target.elements.name.value,n=e.target.elements.age.value,l=e.target.elements.course.value,u=e.target.elements.skills.value,o=e.target.elements.email.value,r=e.target.elements.isEnrolled.value,d={name:t,age:n,course:l,skills:u,email:o,isEnrolled:r=!0===r?"true":"false"};console.log(d),addStudent(d).then(()=>{getStudents().then(e=>{document.querySelector("tbody").innerHTML=renderStudents(e)})}),e.target.elements.name.value="",e.target.elements.age.value="",e.target.elements.course.value="",e.target.elements.skills.value="",e.target.elements.email.value="",e.target.elements.isEnrolled.value=""});let studentId=null;document.querySelector("tbody").addEventListener("click",e=>{if("Редагувати"===e.target.textContent){document.querySelector(".add").style.display="none",document.querySelector(".edit").style.display="inline-block";let t=e.target.closest("tr");studentId=t.getAttribute("data-id"),document.querySelector("#name").value=t.querySelector(".name").textContent,document.querySelector("#age").value=t.querySelector(".age").textContent,document.querySelector("#course").value=t.querySelector(".course").textContent,document.querySelector("#skills").value=t.querySelector(".skills").textContent,document.querySelector("#email").value=t.querySelector(".email").textContent,document.querySelector("#isEnrolled").value=t.querySelector(".isEnrolled").textContent}}),document.querySelector(".edit").addEventListener("click",()=>{let e={name:document.querySelector("#name").value,age:document.querySelector("#age").value,course:document.querySelector("#course").value,skills:document.querySelector("#skills").value,email:document.querySelector("#email").value,isEnrolled:document.querySelector("#isEnrolled").value};console.log(studentId),updateStudent(studentId,e).then(()=>{getStudents().then(e=>{document.querySelector("tbody").innerHTML=renderStudents(e),document.querySelector(".add").style.display="inline-block",document.querySelector(".edit").style.display="none"})})}),document.querySelector("tbody").addEventListener("click",e=>{"Видалити"===e.target.textContent&&deleteStudent(e.target.closest("tr").getAttribute("data-id")).then(()=>{getStudents().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=renderStudents(e)})})});
//# sourceMappingURL=crud-homework.b951c961.js.map
