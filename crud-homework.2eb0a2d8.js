function e(e){return e.map(e=>`
    <tr data-id="${e.id}">
        <td>${e.id}</td>
        <td class="name">${e.name}</td>
        <td class="age">${e.age}</td>
        <td class="course">${e.course}</td>
        <td class="skills">${e.skills}</td>
        <td class="email">${e.email}</td>
        <td class="isEnrolled">${e.isEnrolled}</td>
        <td>
            <button style="margin-bottom: 5px" class="edit-button">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
            <button class="delete-button">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
        </td>
    </tr>
    `).join("")}async function t(){try{return await fetch("https://687ba9e9b4bc7cfbda86b8b5.mockapi.io/students/data/students").then(e=>e.json())}catch(e){console.log(e)}}async function n(e){try{return await fetch("https://687ba9e9b4bc7cfbda86b8b5.mockapi.io/students/data/students",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())}catch(e){console.log(e)}}async function l(e,t){try{return await fetch(`https://687ba9e9b4bc7cfbda86b8b5.mockapi.io/students/data/students/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json())}catch(e){console.log(e)}}async function o(e){try{return await fetch(`https://687ba9e9b4bc7cfbda86b8b5.mockapi.io/students/data/students/${e}`,{method:"DELETE"})}catch(e){console.log(e)}}document.querySelector("#get-students-btn").addEventListener("click",()=>{t().then(t=>{console.log(t),document.querySelector("tbody").innerHTML=e(t)})}),document.querySelector("#add-student-form").addEventListener("submit",l=>{l.preventDefault();let o=l.target.elements.name.value,a=l.target.elements.age.value,c=l.target.elements.course.value,u=l.target.elements.skills.value,r=l.target.elements.email.value,d=l.target.elements.isEnrolled.value,s={name:o,age:a,course:c,skills:u,email:r,isEnrolled:d=!0===d?"true":"false"};console.log(s),n(s).then(()=>{t().then(t=>{document.querySelector("tbody").innerHTML=e(t)})}),l.target.elements.name.value="",l.target.elements.age.value="",l.target.elements.course.value="",l.target.elements.skills.value="",l.target.elements.email.value="",l.target.elements.isEnrolled.value=""});let a=null;document.querySelector("tbody").addEventListener("click",e=>{if("Редагувати"===e.target.textContent.trim()){let t=e.target.closest("tr");a=t.getAttribute("data-id"),document.querySelector("#nameChange").value=t.querySelector(".name").textContent,document.querySelector("#ageChange").value=t.querySelector(".age").textContent,document.querySelector("#courseChange").value=t.querySelector(".course").textContent,document.querySelector("#skillsChange").value=t.querySelector(".skills").textContent,document.querySelector("#emailChange").value=t.querySelector(".email").textContent,document.querySelector("#isEnrolledChange").checked="true"===t.querySelector(".isEnrolled").textContent,document.getElementById("editModal").style.display="block",document.getElementById("modal-backdrop").style.display="block"}}),document.querySelector(".editButt").addEventListener("click",()=>{let n={name:document.querySelector("#nameChange").value,age:parseInt(document.querySelector("#ageChange").value),course:document.querySelector("#courseChange").value,skills:document.querySelector("#skillsChange").value,email:document.querySelector("#emailChange").value,isEnrolled:document.querySelector("#isEnrolledChange").checked};console.log(n),l(n,a).then(()=>t()).then(t=>{document.querySelector("tbody").innerHTML=e(t),document.getElementById("editModal").style.display="none",document.getElementById("modal-backdrop").style.display="none"}).catch(e=>{console.error("Error updating student:",e)})}),document.querySelector(".cancelButt").addEventListener("click",()=>{document.getElementById("editModal").style.display="none",document.getElementById("modal-backdrop").style.display="none"}),document.querySelector("tbody").addEventListener("click",n=>{"Видалити"===n.target.textContent&&o(n.target.closest("tr").getAttribute("data-id")).then(()=>{t().then(t=>{console.log(t),document.querySelector("tbody").innerHTML=e(t)})})});
//# sourceMappingURL=crud-homework.2eb0a2d8.js.map
